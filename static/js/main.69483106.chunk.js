(this["webpackJsonpgeotiff-3d-dem-viewer"]=this["webpackJsonpgeotiff-3d-dem-viewer"]||[]).push([[0],{3:function(e,t){e.exports=Cesium},473:function(e,t,n){},474:function(e,t,n){},475:function(e,t,n){},480:function(e,t,n){},481:function(e,t,n){},483:function(e,t){},487:function(e,t){},489:function(e,t){},524:function(e,t,n){},525:function(e,t,n){},526:function(e,t,n){},527:function(e,t,n){},528:function(e,t,n){},529:function(e,t,n){},530:function(e,t,n){"use strict";n.r(t);n(252);var a=n(4),i=n.n(a),s=n(102),r=n.n(s),c=(n(473),n(3)),o=n(246),l=n(0),u=n.n(l),d=n(43),h=n(12),b=n(7),f=n(18),j=(n(474),n(233)),m=n(26),p=n(55),v=(n(475),n(234)),O=n(2),g=["icon"];function x(e){var t=e.icon,n=Object(p.a)(e,g);return Object(O.jsx)("div",Object(m.a)(Object(m.a)({},n),{},{className:"button icon-button "+(e.className||""),children:Object(O.jsx)(v.a,{icon:t,fixedWidth:!0})}))}function k(e){return Object(O.jsx)(x,Object(m.a)(Object(m.a)({icon:e.icon},e),{},{className:"cesium-button cesium-toolbar-button "+(e.className||"")}))}n(480);var w=["expand","onChange"];function y(e){var t="file"===e.type,n=(e.expand,e.onChange),i=Object(p.a)(e,w),s="button ".concat(e.expand?"button-expanded":""),r="_"+Math.random()+"_"+Date.now(),c=t?function(e){n&&n(e),e.target.type="",e.target.type="file"}:n,o=Object(O.jsx)("input",Object(m.a)(Object(m.a)({},i),{},{className:(t?"hidden":s)+" "+(e.className||""),id:r,onChange:c}));if(!t)return o;var l=e.label||"Select ".concat(o.props.multiple?"files":"file","...");return Object(O.jsxs)(a.Fragment,{children:[o,Object(O.jsx)("label",{className:s,htmlFor:r,children:l})]})}n(481);var N=n(5),C=n(235),S=n(247),M=n(27),I=n(249),T=new c.GeographicTilingScheme,E=new function e(){var t=this;Object(N.a)(this,e),this.size=32,this.width=this.size,this.height=this.size,this.fileEntries=void 0,this.terrainProvider=void 0,this.viewer=void 0,this.imageSelector=null,this.loadingWindow=null,this.addFile=function(){var e=Object(b.a)(u.a.mark((function e(n,a,i){var s,r,o,l,b,j,m,p,v,O,g,x,k,w,y,N,T,E,D,F,P,W,R,A,L,V,Y,U,G,J,z,B,H,X,K,Q,_,$,q,Z;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=1/0,r=-1/0,o=0,l=0,b=null,j=[],m=Object(h.a)(i),e.prev=2,m.s();case 4:if((p=m.n()).done){e.next=37;break}return v=p.value,e.next=8,a.getImage(v);case 8:for(O=e.sent,g=C.toProj4(O.getGeoKeys()),x=Object(S.a)(g.proj4,"WGS84"),k=O.getOrigin(),w=Object(f.a)(k,2),y=w[0],N=w[1],T=O.getWidth(),E=O.getHeight(),D=O.getResolution(),F=Object(f.a)(D,3),P=F[0],W=F[1],R=F[2],A=O.getGDALNoData(),0===R&&(R=1),Y=[],U=0,G=[[y,N],[L=y+T*P,N],[y+T*P,N+E*W],[y,V=N+E*W],[y,N]];U<G.length;U++)J=G[U],Y.push(x.forward(J));return z=c.Rectangle.fromDegrees.apply(c.Rectangle,Object(d.a)(Object(I.a)(Object(M.e)([Y])))),null===b?b=z:c.Rectangle.union(b,z,b),e.next=21,O.readRasters([0,1,0,1]);case 21:e.t0=e.sent[0].constructor,e.t1=T*E,B=new e.t0(e.t1),H=0;case 25:if(!(H<E)){e.next=34;break}return e.next=28,O.readRasters({window:[0,H,T,H+1]});case 28:for(X=e.sent,K=X[0].length,Q=0;Q<K;Q++){_=0,$=Object(h.a)(X);try{for($.s();!(q=$.n()).done;)Z=q.value,_+=Z[Q]}catch(u){$.e(u)}finally{$.f()}_=_===A?0:_/X.length,B.set([_],H*T+Q),_<s&&(s=_),_>r&&(r=_),o+=_,l++}case 31:H++,e.next=25;break;case 34:j.push({proj4projection:x,imageData:B,boundingRect:z,rightX:L,bottomY:V,originX:y,originY:N,width:T,height:E,heightMultiplier:1});case 35:e.next=4;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(2),m.e(e.t2);case 42:return e.prev=42,m.f(),e.finish(42);case 45:return t.fileEntries[n.name]=j,e.abrupt("return",{name:n.name,min:s,max:r,mean:o/l,rectangle:b});case 47:case"end":return e.stop()}}),e,null,[[2,39,42,45]])})));return function(t,n,a){return e.apply(this,arguments)}}(),this.getTerrainData=function(e,n,a){var i=T.tileXYToRectangle(e,n,a),s=i.west,r=i.east,o=i.north,l=i.south,u=180/Math.PI,d=s*u,b=o*u,j=r*u,m=l*u,p=Math.abs(j-d)/t.width,v=Math.abs(m-b)/t.height,O=new Float32Array(t.width*t.height);for(var g in t.fileEntries){var x,k=t.fileEntries[g],w=Object(h.a)(k);try{for(w.s();!(x=w.n()).done;){var y=x.value;if(c.Rectangle.simpleIntersection(i,y.boundingRect))for(var N=0;N<t.width;N++)for(var C=0;C<t.height;C++){var S=d+N*p,M=b-C*v,I=y.proj4projection.inverse([S,M]),E=Object(f.a)(I,2),D=E[0],F=E[1],P=Math.floor(y.width*(D-y.originX)/(y.rightX-y.originX)),W=Math.floor(y.height*(F-y.originY)/(y.bottomY-y.originY));P<0||P>=y.width||W<0||W>=y.height||O.set([y.imageData[W*y.width+P]*y.heightMultiplier],C*t.width+N)}}}catch(R){w.e(R)}finally{w.f()}}return O},this.removeFile=function(e){delete t.fileEntries[e]},this.setHeightMultiplier=function(e,n){n<1?n=1:n>1e3&&(n=1e3);var a,i=t.fileEntries[e],s=Object(h.a)(i);try{for(s.s();!(a=s.n()).done;){a.value.heightMultiplier=n}}catch(r){s.e(r)}finally{s.f()}},this.fileEntries={},this.terrainProvider=new c.CustomHeightmapTerrainProvider({width:this.width,height:this.height,tilingScheme:T,callback:function(e,n,a){return t.getTerrainData(e,n,a)}})},D=n(236),F=n(69);function P(e){return Object(O.jsxs)("div",{className:"menu-item-data-entry",children:[Object(O.jsxs)("div",{className:"menu-item-data-entry-label",children:[e.label,":"]}),Object(O.jsx)("div",{className:"menu-item-data-entry-value",children:e.value})]})}function W(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),i=n[0],s=n[1];return Object(O.jsxs)("div",{className:"menu-item",children:[Object(O.jsxs)("div",{className:"display-row menu-item-row",children:[Object(O.jsx)("div",{className:"shortened-text menu-item-label",children:e.data.name}),Object(O.jsx)(x,{icon:F.e,onClick:function(){return e.onDelete(e.data.name)}}),Object(O.jsx)(x,{icon:F.c,onClick:function(){var t;null===(t=E.viewer)||void 0===t||t.scene.camera.flyTo({destination:e.data.rectangle})}}),Object(O.jsx)(x,{icon:F.d,onClick:function(){return s(!i)}})]}),Object(O.jsx)(D.Collapse,{isOpened:i,children:Object(O.jsxs)("div",{className:"menu-item-data",children:[Object(O.jsx)(P,{label:"Min",value:e.data.min}),Object(O.jsx)(P,{label:"Max",value:e.data.max}),Object(O.jsx)(P,{label:"Mean",value:e.data.mean}),Object(O.jsx)("p",{children:"Sometimes heights might be so small so they make DEM almost invisible. Multiply heights by following value to see the DEM better:"}),Object(O.jsx)(y,{type:"number",defaultValue:1,min:1,max:1e3,step:100,expand:!0,onChange:function(t){e.onHeightMultiplierChange(e.data.name,t.target.value)}})]})})]})}var R=n(248);function A(e){var t=Object(j.useDetectClickOutside)({onTriggered:function(){return r(!1)}}),n=Object(a.useState)(!1),i=Object(f.a)(n,2),s=i[0],r=i[1],c=Object(a.useState)([]),o=Object(f.a)(c,2),l=o[0],m=o[1],p=function(){var t=Object(b.a)(u.a.mark((function t(n){var a,i,s,r,c,o,l,b,f,j,p,v,O,g,x,k,w;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.target.files&&0!==n.target.files.length){t.next=2;break}return t.abrupt("return");case 2:s=[],r=[],c={},o=!1,l=Object(h.a)(n.target.files),t.prev=5,l.s();case 7:if((b=l.n()).done){t.next=33;break}return j=b.value,p=void 0,t.prev=10,t.next=13,Object(R.a)(j);case 13:p=t.sent,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(10),o=!0,c[j.name]="file is not valid TIFF image",t.abrupt("continue",31);case 21:return t.next=23,p.getImageCount();case 23:if(v=t.sent,O=void 0,!(v>1)){t.next=29;break}return t.next=28,null===(f=E.imageSelector)||void 0===f?void 0:f.getImagesToUse(v,j.name);case 28:O=t.sent;case 29:O||(O=[0]),r.push({file:j,geoTiff:p,indices:O});case 31:t.next=7;break;case 33:t.next=38;break;case 35:t.prev=35,t.t1=t.catch(5),l.e(t.t1);case 38:return t.prev=38,l.f(),t.finish(38);case 41:null===(a=E.loadingWindow)||void 0===a||a.show(),g=0,x=r;case 43:if(!(g<x.length)){t.next=60;break}return k=x[g],t.prev=45,t.next=48,E.addFile(k.file,k.geoTiff,k.indices);case 48:w=t.sent,s.push(w),t.next=57;break;case 52:t.prev=52,t.t2=t.catch(45),o=!0,c[k.file.name]="file is not georeferenced",console.log(t.t2);case 57:g++,t.next=43;break;case 60:m((function(e){return[].concat(Object(d.a)(e),s)})),null===(i=E.loadingWindow)||void 0===i||i.hide(),o&&e.errorWindow.show(c);case 63:case"end":return t.stop()}}),t,null,[[5,35,38,41],[10,16],[45,52]])})));return function(e){return t.apply(this,arguments)}}(),v=function(t){e.confirmWindow.confirm(t,(function(e){e&&(E.removeFile(t),m(l.filter((function(e){return e.name!==t}))))}))},g=function(e,t){E.setHeightMultiplier(e,t)};return Object(O.jsxs)("div",{className:"menu-wrapper",ref:t,children:[Object(O.jsx)(k,{icon:F.a,className:"menu-button",onClick:function(){return r(!s)}}),Object(O.jsxs)("div",{className:"cesium-baseLayerPicker-dropDown ".concat(s?"cesium-baseLayerPicker-dropDown-visible":""),children:[Object(O.jsx)(y,{type:"file",multiple:!0,accept:".tiff, .tif, .geotiff, .geotif",label:"Add GeoTIFFs!",expand:!0,onChange:p}),l.map((function(e,t){return Object(O.jsx)(W,{data:e,onDelete:v,onHeightMultiplierChange:g},t)}))]})]})}n(524);function L(){return Object(O.jsxs)("div",{className:"about",children:[Object(O.jsx)("div",{className:"about-header",children:Object(O.jsx)("b",{children:"About this app"})}),Object(O.jsx)("div",{children:"This app enables you to view GeoTIFF Digital Elevation Models in 3D."}),Object(O.jsxs)("div",{children:["It's different from other apps because it uses ",Object(O.jsx)("a",{href:"https://github.com/matafokka/geotiff-geokeys-to-proj4",children:"this library"})," which allows to support almost any projection which other apps doesn't do (for now). In fact, this app is demo for that library."]}),Object(O.jsxs)("div",{children:["Love the idea? Check out ",Object(O.jsx)("a",{href:"https://github.com/matafokka/geotiff-3d-dem-viewer",children:"the source code"}),"!"]})]})}var V=n(6),Y=n(9),U=n(10);n(525);function G(e){var t=function(t){e.setIsOpen&&e.setIsOpen(!1);var n="on"+(t?"Ok":"Cancel");e[n]&&e[n]()};return Object(O.jsx)("div",{className:"modal-backdrop "+(e.isOpen?"":"modal-hidden"),children:Object(O.jsxs)("div",{className:"cesium-baseLayerPicker-dropDown cesium-baseLayerPicker-dropDown-visible modal",children:[e.header?Object(O.jsx)("div",{className:"shortened-text modal-header",children:e.header}):null,Object(O.jsx)("div",{className:"modal-content "+(e.className||""),children:e.children}),Object(O.jsx)("div",{className:"modal-buttons",children:Object(O.jsxs)("div",{className:"modal-buttons-wrapper",children:[void 0===e.enableCancel||e.enableCancel?Object(O.jsx)(y,{type:"button",value:e.cancelText?e.cancelText:"Cancel",onClick:function(){return t(!1)}}):null,void 0===e.enableOk||e.enableOk?Object(O.jsx)(y,{type:"button",value:e.okText?e.okText:"OK",onClick:function(){return t(!0)}}):null]})})]})})}n(526);function J(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),i=n[0],s=n[1];Object(a.useEffect)((function(){s(!!e.isSelected)}),[e.isSelected]);return Object(O.jsxs)("div",{className:"display-row checkbox-container",onClick:function(){var t=!i;s(t),e.onClick&&e.onClick(t)},children:[Object(O.jsx)(x,{icon:F.b,className:"checkbox-icon-container "+(i?"":"not-selected")}),Object(O.jsx)("div",{className:"checkbox-label",children:e.label})]})}for(var z=n(76),B=(n(527),[]),H=0;H<=9;H++)B.push(H.toString());var X=function(e){Object(Y.a)(n,e);var t=Object(U.a)(n);function n(e){var a;return Object(N.a)(this,n),(a=t.call(this,e)).userFinishedSelection=!1,a.setAll=function(e){var t=a.state.checkboxValues.map((function(){return e}));a.setState({checkboxValues:t})},a.parseMask=function(e){var t,n=new Set,i=e.split(","),s=a.state.checkboxValues.length-1,r=Object(h.a)(i);try{for(r.s();!(t=r.n()).done;){var c=t.value;if("-"===c[c.length-1])return null;var o=c.split("-");if(o.length>2)return null;var l=Object(f.a)(o,2),u=l[0],d=l[1];u=u.trim(),d=d?d.trim():"";var b,j=Object(h.a)(u+d);try{for(j.s();!(b=j.n()).done;){var m=b.value;if(-1===B.indexOf(m))return null}}catch(g){j.e(g)}finally{j.f()}var p=parseInt(u),v=parseInt(d);if(isNaN(p)||""!==d&&isNaN(v)||p>v)return null;if(p--,isNaN(v)?v=p:v--,p>s||v>s||p<=-1)return null;for(var O=p;O<=v;O++)n.add(O)}}catch(g){r.e(g)}finally{r.f()}return n},a.onMaskInput=function(e){var t=e.target.value,n=null!==a.parseMask(t),i=n&&""!==t.trim();a.setState({isInputMaskValid:n,maskText:t,enableOk:i})},a.onOk=function(){a.state.useMask&&!a.state.enableOk||(a.userFinishedSelection=!0,a.setState({isOpen:!1}))},a.state={checkboxValues:[],isOpen:!1,fileName:"",maskText:"",isInputMaskValid:!0,useMask:!1,enableOk:!0},a}return Object(V.a)(n,[{key:"getImagesToUse",value:function(){var e=Object(b.a)(u.a.mark((function e(t,n){var a,i,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[],i=0;i<t;i++)a.push(!0);this.setState({fileName:n,checkboxValues:a,isOpen:!0});case 3:if(this.userFinishedSelection){e.next=8;break}return e.next=6,new Promise((function(e){setTimeout(e,0)}));case 6:e.next=3;break;case 8:if(this.userFinishedSelection=!1,!this.state.useMask){e.next=11;break}return e.abrupt("return",this.parseMask(this.state.maskText));case 11:for(s=[],r=0;r<this.state.checkboxValues.length;r++)this.state.checkboxValues[r]&&s.push(r);return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(O.jsxs)(G,{isOpen:this.state.isOpen,onOk:this.onOk,enableCancel:!1,header:'Images for file "'.concat(this.state.fileName,'"'),className:"image-selector",children:[Object(O.jsxs)("div",{className:"image-selector-description",children:[Object(O.jsxs)("p",{children:['File "',this.state.fileName,'" contains multiple images. These images might overlap. In this case, last overlapping image will take precedence.']}),Object(O.jsx)("p",{children:"Please, select images to display by checking boxes or by using mask."})]}),Object(O.jsxs)(z.d,{onSelect:function(t){return e.setState({useMask:1===t})},children:[Object(O.jsxs)(z.b,{children:[Object(O.jsx)(z.a,{className:"button",children:"Use boxes"}),Object(O.jsx)(z.a,{className:"button",children:"Use mask"})]}),Object(O.jsxs)(z.c,{children:[Object(O.jsxs)("div",{className:"display-row image-selector-buttons",children:[Object(O.jsx)(y,{type:"button",expand:!0,value:"Select All",onClick:function(){return e.setAll(!0)}}),Object(O.jsx)(y,{type:"button",value:"Deselect All",onClick:function(){return e.setAll(!1)}})]}),Object(O.jsx)("div",{className:"display-row image-selector-checkboxes",children:this.state.checkboxValues.map((function(t,n){return Object(O.jsx)(J,{label:"Image "+(n+1),onClick:function(t){var a=Object(d.a)(e.state.checkboxValues);a[n]=t,e.setState({checkboxValues:a})},isSelected:t},n)}))})]}),Object(O.jsxs)(z.c,{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Use image number to select it. Separate images by comma. Use minus symbol (-) to select range of images."}),Object(O.jsxs)("p",{children:["For example, select images 1, 2, from 4 to 10 (including both 4 and 10) and 13: ",Object(O.jsx)("code",{children:"1, 2, 4-10, 13"})]}),Object(O.jsxs)("p",{children:["Number of images: ",this.state.checkboxValues.length]})]}),Object(O.jsx)(y,{type:"text",className:"pre "+(this.state.isInputMaskValid?"":"invalid"),placeholder:"Your image mask...",expand:!0,onChange:function(t){return e.onMaskInput(t)}})]})]})]})}}]),n}(i.a.Component),K=(n(528),["Bombing the Earth to recreate your images","Wasting your time","Sending your images to the special agencies","<- Shuffling pixels","Drinking beer","Training war robots using your images","Eating your RAM (really, check usage)"]),Q=function(e){Object(Y.a)(n,e);var t=Object(U.a)(n);function n(e){var a;return Object(N.a)(this,n),(a=t.call(this,e)).state={isOpen:!1},a}return Object(V.a)(n,[{key:"show",value:function(){this.setState({isOpen:!0})}},{key:"hide",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){return Object(O.jsx)(G,{isOpen:this.state.isOpen,enableOk:!1,enableCancel:!1,children:Object(O.jsxs)("div",{className:"display-row loading-row",children:[Object(O.jsxs)("div",{className:"sk-cube-grid",children:[Object(O.jsx)("div",{className:"sk-cube sk-cube1"}),Object(O.jsx)("div",{className:"sk-cube sk-cube2"}),Object(O.jsx)("div",{className:"sk-cube sk-cube3"}),Object(O.jsx)("div",{className:"sk-cube sk-cube4"}),Object(O.jsx)("div",{className:"sk-cube sk-cube5"}),Object(O.jsx)("div",{className:"sk-cube sk-cube6"}),Object(O.jsx)("div",{className:"sk-cube sk-cube7"}),Object(O.jsx)("div",{className:"sk-cube sk-cube8"}),Object(O.jsx)("div",{className:"sk-cube sk-cube9"})]}),Object(O.jsx)("div",{className:"loading-text",children:K[Math.round(Math.random()*(K.length-1))]+", please, wait..."})]})})}}]),n}(i.a.Component),_=function(e){Object(Y.a)(n,e);var t=Object(U.a)(n);function n(e){var a;return Object(N.a)(this,n),(a=t.call(this,e)).confirm=function(e,t){a.setState({isOpen:!0,fileName:e,onConfirm:t})},a.onClick=function(e){a.setState({isOpen:!1}),a.state.onConfirm(e)},a.state={isOpen:!1,fileName:"",onConfirm:function(){}},a}return Object(V.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)(G,{header:'Remove image "'.concat(this.state.fileName,'"?'),okText:"Yes",cancelText:"No",isOpen:this.state.isOpen,setIsOpen:function(t){return e.setState({isOpen:t})},onCancel:function(){return e.onClick(!1)},onOk:function(){return e.onClick(!0)},children:Object(O.jsxs)("div",{children:['Are you sure you want to remove image "$',this.state.fileName,'"?']})})}}]),n}(i.a.Component),$=(n(529),function(e){Object(Y.a)(n,e);var t=Object(U.a)(n);function n(e){var a;return Object(N.a)(this,n),(a=t.call(this,e)).show=function(e){var t=[],n=0;for(var i in e)e.hasOwnProperty(i)&&(t.push(Object(O.jsxs)("div",{className:"error-item",children:[Object(O.jsxs)("b",{children:[i,":"]})," ",Object(O.jsx)("span",{className:"error-item-description",children:e[i]})]},n)),n++);a.setState({fileErrors:t,isOpen:!0})},a.state={fileErrors:[],isOpen:!1},a}return Object(V.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsxs)(G,{isOpen:this.state.isOpen,setIsOpen:function(t){return e.setState({isOpen:t})},enableCancel:!1,header:"Error reading files",children:[Object(O.jsx)("p",{children:"Following errors have occurred while reading your files:"}),this.state.fileErrors]})}}]),n}(i.a.Component));c.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJmYzU3YTBlOS0yMDQ2LTQwYmYtODgyMy0xNDE3NTk5MjI5ODIiLCJpZCI6NjkyOTUsImlhdCI6MTYzMzM3NTA2MH0.DLePjLG_HAwKijwBbkQ18JFblYzTneLFGm94E8xN6Po";var q=document.createElement("div");var Z=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useRef)(null),s=Object(a.useRef)(null),l=Object(a.useRef)(null);return Object(a.useEffect)((function(){var a;if(null===e||void 0===e||null===(a=e.current)||void 0===a?void 0:a.cesiumElement){var o=e.current.cesiumElement;E.viewer=o,E.imageSelector=t.current,E.loadingWindow=n.current;var u=o.scene.globe,d=o.scene.camera,h=new c.Cartesian3,b=new c.Cartesian3,f=new c.Cartesian3,j=new c.Cartesian3,m=new c.Cartesian3;o.scene.postUpdate.addEventListener((function(){var e=u.ellipsoid.geodeticSurfaceNormal(d.position,h);c.Cartesian3.dot(d.direction,e)>=-.3?(d.position=c.Cartesian3.clone(b,d.position),d.direction=c.Cartesian3.clone(f,d.direction),d.up=c.Cartesian3.clone(j,d.up),d.right=c.Cartesian3.clone(m,d.right)):(b=c.Cartesian3.clone(d.position,b),f=c.Cartesian3.clone(d.direction,f),j=c.Cartesian3.clone(d.up,j),m=c.Cartesian3.clone(d.right,m))}));var p=o.container.getElementsByClassName("cesium-viewer-toolbar")[0],v=document.createElement("div");v.className="menu-container",p.appendChild(v);var O=i.a.createElement(A,{confirmWindow:s.current,errorWindow:l.current});r.a.render(O,v);for(var g=0,x=["cesium-click-navigation-help","cesium-touch-navigation-help"];g<x.length;g++){var k=x[g],w=p.getElementsByClassName(k)[0],y=document.createElement("div");y.className="about-wrapper";var N=i.a.createElement(L);w.appendChild(y),r.a.render(N,y)}0}}),[e,t,n,s,l]),Object(O.jsxs)(a.Fragment,{children:[Object(O.jsx)(o.a,{full:!0,ref:e,terrainProvider:E.terrainProvider,timeline:!1,sceneModePicker:!1,animation:!1,creditContainer:q,terrainProviderViewModels:[]}),Object(O.jsx)(X,{ref:t}),Object(O.jsx)(Q,{ref:n}),Object(O.jsx)(_,{ref:s}),Object(O.jsx)($,{ref:l})]})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,534)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),s(e),r(e)}))},te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ne(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}for(var ae=window.navigator.userAgent.toLowerCase(),ie=!1,se=0,re=["android","iphone","ipod","opera mini","windows phone","bb","blackberry","tablet","ipad","playbook","silk"];se<re.length;se++){var ce=re[se];if(-1!==ae.indexOf(ce)){ie=!0;break}}document.body.classList.add(ie?"mobile":"not-mobile"),r.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(Z,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/geotiff-3d-dem-viewer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/geotiff-3d-dem-viewer","/service-worker.js");te?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ne(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ne(t,e)}))}}(),ee()}},[[530,1,2]]]);
//# sourceMappingURL=main.69483106.chunk.js.map